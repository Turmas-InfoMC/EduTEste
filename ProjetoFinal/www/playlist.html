<!DOCTYPE html>
<html>
	<head>
		<title> Playlist </title>
		<style type="text/css">
			ul {list-style: none; padding: 0px;}
			a {text-decoration: none; color: #444; font-family: arial;}
			li:hover {background: #eee; border-bottom: solid 1px #f60;}
			li {width: 290px; padding: 5px; border-bottom: solid 1px #ccc;}
			.active a {color: #f60; padding-left: 1px; font-style:italic;}
		</style>
		<script src = "https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"> </script>
	</head>
	
	<body>
		<audio id="audio" preload="auto" tabindex="0" controls="">
			<source src="Kalimba.mp3">
		</audio>
		<ul id="playlist">
			<li class="active"> <a href=".\mus\Kalimba.mp3"> Kalimba </a> </li>
			<li> <a href=".\mus\Maid_with_the_Flaxen_Hair.mp3"> Maid with the Flaxen Hair </a> </li>
			<li> <a href=".\mus\Sleep_Away.mp3"> Sleep Away </a> </li>
			
		</ul>
		
		<script type="text/javascript">
			inicio();
			function inicio (){
				var corrente = 0;
				var audio = $("#audio");
				var playlist = $("#playlist");
				var tracks = playlist.find("li a");
				var len = tracks.length - 1;
				audio[0].play();
				playlist.find("a").click(function(e){
					e.preventDefault();
					link = $(this);
					corrente = link.parent().index();
					run(link, audio[0]);
				});
				audio[0].addEventListener("ended", function(e){
					corrent++;
					if(corrente = len){
						corrente = 0;
						link.playlist.find("a")[0];
					}else{
						link = playlist.find("a")[corrente];
					}
					run($(link), audio[0]);
				});
			}
		
			function run (link, player){
				player.src = link.attr("href");
				par = link.parent();
				par.addClass("active").siblings().removeClass("active");
				player.load();
				player.play();
				
			}
		
		</script>
		
	</body>
</html>
		